<!DOCTYPE HTML>

<html>
   <head>
      <meta charset="utf-8"/>
      <link rel="stylesheet" type="text/css" href="Masher.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.js"></script>
      <script type = "text/javascript" src="Masher.js"> </script>
      <script src="gauge.min.js"></script> 
   </head>
   <body >
      <div id="loadingActiveBrewPopup" class="popClass">
        <div class="flex-container">
          <div>
            <h1>Pleas wait while loading.</h1>
            <div class="sk-fading-circle">
              <div class="sk-circle1 sk-circle"></div>
              <div class="sk-circle2 sk-circle"></div>
              <div class="sk-circle3 sk-circle"></div>
              <div class="sk-circle4 sk-circle"></div>
              <div class="sk-circle5 sk-circle"></div>
              <div class="sk-circle6 sk-circle"></div>
              <div class="sk-circle7 sk-circle"></div>
              <div class="sk-circle8 sk-circle"></div>
              <div class="sk-circle9 sk-circle"></div>
              <div class="sk-circle10 sk-circle"></div>
              <div class="sk-circle11 sk-circle"></div>
              <div class="sk-circle12 sk-circle"></div>
            </div>
          </div> 
        </div>
      </div>
      <!--
###############################################################################################################################
Brewage Select Popup
###############################################################################################################################
      -->
      <div id="selectBrewagePopup">
        <div class="flex-container">
          <div>
            <p>Open existing Brewage:</p>
            <select id="BrewageList">
            <input id="pbOpenBrewage" type="button" value="Open Brewage" onclick="OpenBrewage();" disabled />
            <hr></hr>
            <p>Create new brewage.</p>
            <table id="newBrewageTable">
              <tr> 
                <td>Brew Name</td>
                <td><input type="text" id="newBrew_Name"></td>
              </tr>
              <tr>
                <td>Configuration</td>  
                <td><select id="newBrew_ConfigSelect"></td>
                <td><input id="pbOpenConfig" type="button" value="Open" onclick="OpenExistingConfiguration();" /></td>
                <td><input id="pbNewConfig" type="button" value="New" onclick="NewConfiguration();" /></td>
              </tr>
              <!-- <tr> 
                <td>Mashing Schema</td> 
                <td><select id="newBrew_ConfigSelect"></td>
                <td><input id="pbNewMash" type="button" value="New Mashing" onclick="NewMashing();" /></td>
              </tr> -->
            </table>
            <input id="pbNewBrewage" type="button" value="New Brewage" onclick="NewBrewage();" />
          </div>  
        </div>
      </div>
      <!--
###############################################################################################################################
Configuration Popup
###############################################################################################################################
      -->
      <div id="configurationPopup" class="popClass">
        <div class="flex-container">
          <div class="configurationLayout">
            <table id="configurationTable">
              <tr style="display:none;">  <td>Id</td> <td><input readonly type="text" id="Configuration_Id"></td></tr>    
              <tr> <td>Name</td> <td><input type="text" id="Configuration_Name"></td></tr>       
              <tr> <td>P</td> <td><input type="text" id="Configuration_P"></td></tr>
              <tr> <td>I</td> <td><input type="text" id="Configuration_I"></td></tr>
              <tr> <td>D</td> <td><input type="text" id="Configuration_D"></td></tr>
              <tr> <td>StepsPerRevolution</td> <td><input type="text" id="Configuration_StepsPerRevolution"></td></tr>
            </table>
            <hr>
            <div>
                Motor Angle: 
                Process Value: <input readonly type="text" id="MotorAnglePV" value="0"> 
                SetPoint     : <input type="number" step="1" id="MotorAngleSP" value="0">
                <input id="pbMotorSet"  type="submit" value="Submit"      onclick="SetMotorAngle();" />
                <input id="pbMotorZero" type="submit" value="Set as Zero" onclick="ZeroMotorAngle();" />
                <input id="pbMotorMax"  type="submit"  value="Set as Max" onclick="MaxMotorAngle();" disabled/>
            </div>
            <hr>
            <div>
              <input id="pbApplyConfiguration"  type="button" value="Apply"  onclick="SetConfiguration();" />
              <input id="pbSaveConfiguration"   type="button" value="Save"   onclick="SaveConfiguration();" />
              <input id="pbCloseConfiguration"  type="button" value="Close"  onclick="CloseConfiguration();" />
            </div>
          </div>
        </div>
      </div>

      <div id="wrapper">
        <div class="header">
          <div><h1 id="headerText"><strong>Brew: </strong></h1></div>
          <input id="pbShowConfiguration" type="image" src="images/settings_48px_352095.svg" onclick="ShowConfigurationPopup();" disabled/>  
        </div>  
        <div id="userInputSection">   
          <div id="startStopHolder" class="controlHolder">
            <input id="pbStartPID" class="btn" type="image" src="images/play_arrow_48px_352072.svg" onclick="ControllerStart();" disabled/>
            <input id="pbPauzePID"  class="btn" type="image" src="images/pause_48px_352581.svg" onclick="ControllerPauze();" disabled/>            
            <input id="pbStopPID"  class="btn" type="image" src="images/stop_48px_352144.svg" onclick="ControllerStop();" disabled/>
          </div>
          
          <div id="gaugeHolder" class="controlHolder">
            <canvas id="tempGauge" onclick="StartGetMeasurements();"></canvas> 
          </div>  

          <div id="tempControl" class="controlHolder">
            <input id="tempUp"   class="btn" type="image" src="images/arrow_up_48px_352469.svg" onclick="SetpointInc();" disabled ></img>
            <h1  id="TemperatureSP" style="font-size:1vw">0.0Â°C</h1> 
            <input id="tempDown" class="btn"type="image" src="images/arrow_down_48px_352466.svg" onclick="SetpointDec();" disabled></img>
          </div>
        </div> 
        <div id="henkie"> <canvas id="myChart"></canvas></div>
      </div> 
   </body>
</html>